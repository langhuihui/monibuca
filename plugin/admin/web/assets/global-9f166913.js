import"./dayjs-4778c158.js";import{bT as t,ax as a,af as n}from"./index-9471e750.js";function i(){return t.get({url:"/sysinfo"},{errorMessageMode:"message"})}let s;function f(e){s=s||new EventSource(a()+"/summary/sse");try{s.onmessage=r=>{if(!r.data)return{};e(JSON.parse(r.data))},s.onerror=r=>{throw r}}catch(r){n.error(`Summary EventSource failed: ${r}`)}return o}function o(){s==null||s.close(),s=null}function m(){return t.get({url:"/stream/list"},{errorMessageMode:"message"})}function c(e){return t.get({url:"/stream/info/"+e},{errorMessageMode:"message"})}function l(e){return t.get({url:"/subscribers/"+e},{errorMessageMode:"message"})}function M(){return t.get({url:"/plugins"},{errorMessageMode:"message"})}function d(e={name:"",formily:"1"}){return t.get({url:"/getconfig",params:e},{errorMessageMode:"message"})}function p(e,r){return t.post({url:"/updateconfig",params:e,data:r},{errorMessageMode:"message"})}export{d as a,i as b,f as c,m as d,c as e,l as f,M as g,p as u};
