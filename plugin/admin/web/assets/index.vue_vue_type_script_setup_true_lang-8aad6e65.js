import{d as b,k as g,w as _,U as v,V as M,a4 as Y}from"./vue-14860272.js";import{d as E}from"./dayjs-4778c158.js";import{bP as N,bQ as O,ai as S,bR as h,bS as y}from"./index-6940427b.js";var w="[object Number]";function A(s){return typeof s=="number"||N(s)&&O(s)==w}const H="YYYY-MM-DD HH:mm:ss",R="YYYY-MM-DD",o=E,j=(s,r=H)=>o(s).format(r),k=(s,r=R)=>o(s).format(r),x=b({__name:"index",props:{value:{type:[Number,String]},step:{type:Number,default:60},mode:{type:String,default:"relative",validator:s=>["date","datetime","relative"].includes(s)}},setup(s){const r=s,l=1e3,f=l*60,m=f*60,d=m*24,c=g("");S(T,r.step*l),_(()=>r.value,()=>{T()},{immediate:!0});function p(){const{value:e}=r;let a=0;if(A(e)){const n=e.toString().length>10?e:e*1e3;a=new Date(n).getTime()}else h(e)?a=new Date(e).getTime():y(e)&&(a=e.getTime());return a}function T(){const{mode:e,value:a}=r,n=p();e==="relative"?c.value=D(n):e==="datetime"?c.value=j(a):e==="date"&&(c.value=k(a))}function D(e){const a=new Date().getTime(),n=o(e).isBefore(a);let t=a-e;n||(t=-t);let i="",u=n?"前":"后";return t<l?i="刚刚":t<f?i=parseInt(`${t/l}`)+"秒"+u:t>=f&&t<m?i=Math.floor(t/f)+"分钟"+u:t>=m&&t<d?i=Math.floor(t/m)+"小时"+u:t>=d&&t<262386e4?i=Math.floor(t/d)+"天"+u:t>=262386e4&&t<=3156786e4&&n?i=o(e).format("MM-DD-HH-mm"):i=o(e).format("YYYY"),i}return(e,a)=>(v(),M("span",null,Y(c.value),1))}});export{x as _};
