(function(t){function e(e){for(var r,s,i=e[0],u=e[1],c=e[2],m=0,d=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var u=a[i];0!==n[u]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},o=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("f195"),n=a.n(r);n.a},"060a":function(t,e,a){t.exports=a.p+"img/alipay.e872ea78.png"},"0c3e":function(t,e){},"470c":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",{attrs:{src:a("cf05")}}),r("div",[r("p",[t._v(" Monibuca æ˜¯ä¸€ä¸ªå¼€æºçš„Goè¯­è¨€å®žçŽ°çš„æµåª’ä½“æœåŠ¡å™¨å¼€å‘æ¡†æž¶ ")]),r("Button",{attrs:{type:"success",to:"/docs",target:"_blank"}},[t._v("ðŸš€START")]),r("span",{staticStyle:{margin:"0 10px"}}),r("Button",{attrs:{type:"default",target:"_blank",to:"https://github.com/langhuihui/monibuca"}},[r("svg",{staticStyle:{"vertical-align":"text-top"},attrs:{width:"16",height:"16","aria-labelledby":"simpleicons-github-dark-icon",lang:"",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("title",{attrs:{id:"simpleicons-github-dark-icon",lang:"en"}},[t._v("GitHub Dark icon")]),r("path",{attrs:{fill:"#7F8C8D",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}})]),t._v(" GITHUB")])],1),r("Row",{staticStyle:{margin:"30px"}},[r("Col",{attrs:{span:"8"}},[r("Card",{staticStyle:{margin:"30px"},attrs:{bordered:!1}},[r("div",{staticClass:"feature-title",attrs:{slot:"title"},slot:"title"},[t._v("âš¡é«˜æ€§èƒ½")]),r("div",[t._v("é’ˆå¯¹æµåª’ä½“æœåŠ¡å™¨ç‹¬ç‰¹çš„æ€§è´¨è¿›è¡Œçš„ä¼˜åŒ–ï¼Œå……åˆ†åˆ©ç”¨Golangçš„goroutineçš„æ€§è´¨å¯¹å¤§é‡çš„è¿žæŽ¥çš„è¯»å†™è¿›è¡Œåˆç†çš„åˆ†é…è®¡ç®—èµ„æºï¼Œä»¥åŠå°½å¯èƒ½çš„å‡å°‘å†…å­˜Copyæ“ä½œã€‚ä½¿ç”¨å¯¹è±¡æ± å‡å°‘Golangçš„GCæ—¶é—´ã€‚")])])],1),r("Col",{attrs:{span:"8"}},[r("Card",{staticStyle:{margin:"30px"},attrs:{bordered:!1}},[r("div",{staticClass:"feature-title",attrs:{slot:"title"},slot:"title"},[t._v("ðŸ”§å¯æ‰©å±•")]),r("div",[t._v("æµåª’ä½“æœåŠ¡å™¨çš„ä¸ªæ€§åŒ–å®šåˆ¶å˜çš„æ›´ç®€å•ï¼ŒåŸºäºŽGolangè¯­è¨€ï¼Œå¼€å‘æ•ˆçŽ‡æ›´é«˜ï¼Œç‹¬åˆ›çš„æ’ä»¶æœºåˆ¶ï¼Œå¯ä»¥æ–¹ä¾¿ç”¨æˆ·å®šåˆ¶ä¸ªæ€§åŒ–çš„åŠŸèƒ½ç»„åˆï¼Œæ›´é«˜æ•ˆçŽ‡çš„åˆ©ç”¨æœåŠ¡å™¨èµ„æºã€‚")])])],1),r("Col",{attrs:{span:"8"}},[r("Card",{staticStyle:{margin:"30px"},attrs:{bordered:!1}},[r("div",{staticClass:"feature-title",attrs:{slot:"title"},slot:"title"},[t._v("ðŸ“ˆå¯è§†åŒ–")]),r("div",[t._v("åŠŸèƒ½å¼ºå¤§çš„ä»ªè¡¨ç›˜å¯ä»¥ç›´è§‚çš„çœ‹åˆ°æœåŠ¡å™¨è¿è¡Œçš„çŠ¶æ€ã€æ¶ˆè€—çš„èµ„æºã€ä»¥åŠå…¶ä»–ç»Ÿè®¡ä¿¡æ¯ã€‚ç”¨æˆ·å¯ä»¥åˆ©ç”¨æŽ§åˆ¶å°å¯¹æœåŠ¡å™¨è¿›è¡Œé…ç½®å’ŒæŽ§åˆ¶ã€‚ç‚¹å‡»å³ä¸Šè§’èœå•æ é‡Œé¢çš„æŽ§åˆ¶å°ï¼Œå¯ä»¥çœ‹åˆ°æ¼”ç¤ºã€‚")])])],1)],1)],1)},n=[];a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}))},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",[t._v("Monibuca")]),a("Menu",{staticStyle:{position:"absolute",top:"0",right:"0"},attrs:{mode:"horizontal","active-name":t.selectedMenu}},[a("MenuItem",{attrs:{name:"home",to:"/"}},[t._v("é¦–é¡µ")]),a("MenuItem",{attrs:{name:"docs",to:"/docs",target:"_blank"}},[t._v(" æ–‡æ¡£ ")]),a("MenuItem",{attrs:{name:"console",to:"console"}},[t._v(" æŽ§åˆ¶å° ")]),a("Submenu",{attrs:{name:"plugins"}},[a("template",{slot:"title"},[t._v(" å†…ç½®æ’ä»¶ ")]),a("MenuGroup",{attrs:{title:"å‘å¸ƒè€…/è®¢é˜…è€…"}},[a("MenuItem",{attrs:{name:"cluster"}},[t._v("é›†ç¾¤")]),a("MenuItem",{attrs:{name:"rtmp"}},[t._v("RTMP")])],1),a("MenuGroup",{attrs:{title:"è®¢é˜…è€…"}},[a("MenuItem",{attrs:{name:"jessica"}},[t._v("Jessica")]),a("MenuItem",{attrs:{name:"HDL"}},[t._v("Http-Flv")]),a("MenuItem",{attrs:{name:"record"}},[t._v("å½•åˆ¶Flv")])],1),a("MenuGroup",{attrs:{title:"å‘å¸ƒè€…"}},[a("MenuItem",{attrs:{name:"HLS"}},[t._v("HLS")]),a("MenuItem",{attrs:{name:"TS"}},[t._v("TS")])],1),a("MenuGroup",{attrs:{title:"é’©å­"}},[a("MenuItem",{attrs:{name:"Auth"}},[t._v("éªŒè¯")]),a("MenuItem",{attrs:{name:"QoS"}},[t._v("QoS")]),a("MenuItem",{attrs:{name:"gateway"}},[t._v("ç½‘å…³")])],1)],2),a("MenuItem",{attrs:{name:"4",to:"about"}},[t._v(" æ”¯æŒ ")])],1),a("router-view",{staticClass:"content"}),a("div",[t._v("Copyright Â© 2019-2020 dexter è‹ICPå¤‡20001212å·")])],1)},o=[],s={name:"app",data(){return{selectedMenu:"home"}}},i=s,u=(a("034f"),a("2877")),c=Object(u["a"])(i,n,o,!1,null,null,null),l=c.exports,m=a("8c4f"),d=a("bb51"),p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"root"},[r("h1",[t._v(" èµžåŠ© Monibuca çš„ç ”å‘ ")]),r("p",[t._v(" Monibuca æ˜¯é‡‡ç”¨ MIT è®¸å¯çš„å¼€æºé¡¹ç›®ï¼Œä½¿ç”¨å®Œå…¨å…è´¹ã€‚ ä½†æ˜¯éšç€é¡¹ç›®è§„æ¨¡çš„å¢žé•¿ï¼Œä¹Ÿéœ€è¦æœ‰ç›¸åº”çš„èµ„é‡‘æ”¯æŒæ‰èƒ½æŒç»­é¡¹ç›®çš„ç»´æŠ¤çš„å¼€å‘ã€‚ä½ å¯ä»¥é€šè¿‡ä¸‹åˆ—çš„æ–¹æ³•æ¥èµžåŠ© Monibuca çš„å¼€å‘ã€‚ ")]),r("img",{attrs:{src:a("060a")}}),r("img",{attrs:{src:a("e660")}})])}],f=(a("5775"),{}),h=Object(u["a"])(f,p,v,!1,null,"e34eab40",null),b=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("ButtonGroup",{attrs:{vertical:""}},[a("Button",{attrs:{icon:"ios-folder"}}),a("Button",{attrs:{icon:"md-bug"}}),a("Button",{attrs:{icon:"md-settings"}})],1),t._l(t.Rooms,(function(e){return a("Card",{key:e.StreamPath,staticClass:"room"},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.typeMap[e.Type]||e.Type)+t._s(e.StreamPath)+" ")]),a("StartTime",{attrs:{slot:"extra",value:e.StartTime},slot:"extra"}),a("p",[t._v(" "+t._s(t.SoundFormat(e.AudioInfo.SoundFormat))+" "+t._s(e.AudioInfo.PacketCount)+" "+t._s(t.SoundRate(e.AudioInfo.SoundRate))+" å£°é“:"+t._s(e.AudioInfo.SoundType)+" ")]),a("p",[t._v(" "+t._s(t.CodecID(e.VideoInfo.CodecID))+" "+t._s(e.VideoInfo.PacketCount)+" "+t._s(e.VideoInfo.SPSInfo.Width)+"x"+t._s(e.VideoInfo.SPSInfo.Height)+" ")]),a("Button",{on:{click:function(a){return t.onShowDetail(e)}}},[a("Icon",{attrs:{type:"ios-people"}}),t._v(" "+t._s(e.SubscriberInfo?e.SubscriberInfo.length:0)+" ")],1),e.Type?a("Button",{on:{click:function(a){return t.preview(e)}}},[a("Icon",{attrs:{type:"md-eye"}}),t._v(" Preview ")],1):t._e(),t.isRecording(e)?a("Button",{on:{click:function(a){return t.stopRecord(e)}}},[a("Icon",{staticClass:"recording",attrs:{type:"ios-radio-button-on"}}),t._v(" Stop Rec ")],1):a("Button",{on:{click:function(a){return t.record(e)}}},[a("Icon",{attrs:{type:"ios-radio-button-on"}}),t._v(" Rec ")],1)],1)})),0==t.Rooms.length?a("div",{staticClass:"empty"},[a("Icon",{attrs:{type:"md-wine",size:"50"}}),t._v(" æ²¡æœ‰ä»»ä½•æˆ¿é—´ ")],1):t._e(),a("div",{staticClass:"status"},[a("Alert",[t._v(" å¸¦å®½æ¶ˆè€— ðŸ“¥ï¼š"+t._s(t.totalInNetSpeed)+" ðŸ“¤ï¼š"+t._s(t.totalOutNetSpeed)+" ")]),a("Alert",{attrs:{type:t.memoryStatus}},[t._v(" å†…å­˜ä½¿ç”¨ï¼š"+t._s(t.networkFormat(t.Memory.Used,"M"))+" å æ¯”ï¼š"+t._s(t.Memory.Usage.toFixed(2))+"% ")]),a("Alert",{attrs:{type:t.cpuStatus}},[t._v(" CPUä½¿ç”¨ï¼š"+t._s(t.CPUUsage.toFixed(2))+"% ")]),a("Alert",{attrs:{type:t.hardDiskStatus}},[t._v(" ç£ç›˜ä½¿ç”¨ï¼š"+t._s(t.networkFormat(t.HardDisk.Used,"M"))+" å æ¯”ï¼š"+t._s(t.HardDisk.Usage.toFixed(2))+"% ")])],1),a("Jessibuca",{ref:"jessibuca",model:{value:t.showPreview,callback:function(e){t.showPreview=e},expression:"showPreview"}})],2)},y=[],_=a("2f62"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",t._g(t._b({attrs:{draggable:"",title:t.url},on:{"on-ok":t.onClosePreview,"on-cancel":t.onClosePreview}},"Modal",t.$attrs,!1),t.$listeners),[a("canvas",{staticStyle:{background:"black"},attrs:{id:"canvas",width:"488",height:"275"}})])},w=[];let M=null;var P={name:"Jessibuca",props:{audioEnabled:Boolean},data(){return{url:""}},watch:{audioEnabled(t){M.audioEnabled(t)}},mounted(){M=new window.Jessibuca({canvas:document.getElementById("canvas"),decoder:"jessibuca/ff.js"})},destroyed(){this.onClosePreview(),M.destroy()},methods:{play(t){this.url=t,M.play(t)},onClosePreview(){M.close()}}},C=P,I=Object(u["a"])(C,S,w,!1,null,null,null),k=I.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Poptip",{attrs:{trigger:"hover",content:"âŒšï¸"+new Date(t.value).toLocaleString()}},[a("Time",{attrs:{time:new Date(t.value)}})],1)},U=[],j={name:"StartTime",props:{value:String}},O=j,T=Object(u["a"])(O,x,U,!1,null,"062b9730",null),F=T.exports;const R={"":"K",K:"M",M:"G",G:null},D={0:"Linear PCM, platform endian",1:"ADPCM",2:"MP3",3:"Linear PCM, little endian",4:"Nellymoser 16kHz mono",5:"Nellymoser 8kHz mono",6:"Nellymoser",7:"G.711 A-law logarithmic PCM",8:"G.711 mu-law logarithmic PCM",9:"reserved",10:"AAC",11:"Speex",14:"MP3 8Khz",15:"Device-specific sound"},H={1:"JPEG (currently unused)",2:"Sorenson H.263",3:"Screen video",4:"On2 VP6",5:"On2 VP6 with alpha channel",6:"Screen video version 2",7:"AVC",12:"H265"};var G={name:"Console",components:{Jessibuca:k,StartTime:F},data(){return{showPreview:!1,typeMap:{TS:"ðŸŽ¬",HLS:"ðŸŽ","":"â³",Match365:"ðŸ†",RTMP:"ðŸ“¸"}}},computed:{...Object(_["c"])({Rooms:t=>t.summary.Rooms||[],Memory:t=>t.summary.Memory,CPUUsage:t=>t.summary.CPUUsage,HardDisk:t=>t.summary.HardDisk,cpuStatus:t=>t.summary.CPUUsage>99?"error":t.summary.CPUUsage>50?"warning":"success",memoryStatus(t){return t.summary.CPUUsage>99?"error":t.summary.CPUUsage>50?"warning":"success"},hardDiskStatus(t){return t.summary.CPUUsage>99?"error":t.summary.CPUUsage>50?"warning":"success"},totalInNetSpeed(t){return this.networkFormat(t.summary.NetWork.reduce((t,e)=>t+e.ReceiveSpeed,0))+"/S"},totalOutNetSpeed(t){return this.networkFormat(t.summary.NetWork.reduce((t,e)=>t+e.SentSpeed,0))+"/S"}})},methods:{...Object(_["b"])(["fetchSummary","stopFetchSummary"]),preview(t){this.$refs.jessibuca.play("ws://"+location.hostname+":8080/"+t.StreamPath),this.showPreview=!0},onShowDetail(){},networkFormat(t,e=""){return t>1024&&R[e]?this.networkFormat(t/1024,R[e]):t.toFixed(2).replace(".00","")+e+"B"},SoundFormat(t){return D[t]},CodecID(t){return H[t]},SoundRate(t){return t>1e3?t/1e3+"kHz":t+"Hz"},record(t){window.ajax.get("//"+location.host+"/api/record/flv",{streamPath:t.StreamPath})},stopRecord(t){window.ajax.get("//"+location.host+"/api/record/flv/stop",{streamPath:t.StreamPath})},isRecording(t){return t.SubscriberInfo&&t.SubscriberInfo.find(t=>"FlvRecord"==t.Type)}},mounted(){this.fetchSummary()},destroyed(){this.stopFetchSummary()}},A=G,B=(a("c32a"),Object(u["a"])(A,g,y,!1,null,"7b106554",null)),E=B.exports;r["default"].use(m["a"]);const N=[{path:"/",name:"home",component:d["default"]},{path:"/about",name:"about",component:b},{path:"/console",name:"console",component:E}],$=new m["a"]({mode:"history",base:"/",routes:N});var J=$;r["default"].use(_["a"]);let z=null;var L=new _["a"].Store({state:{summary:{NetWork:[],Rooms:[],Memory:{Used:0,Usage:0},CPUUsage:0,HardDisk:{Used:0,Usage:0}}},mutations:{update(t,e){Object.assign(t,e)}},actions:{fetchSummary({commit:t}){z=new EventSource("//"+location.host+"/api/summary"),z.onmessage=e=>{if(!e.data)return;let a=JSON.parse(e.data);t("update",{summary:a})}},stopFetchSummary(){z.close()}},modules:{}}),V=a("f825"),W=a.n(V);a("f8ce");r["default"].use(W.a),r["default"].config.productionTip=!1,new r["default"]({router:J,store:L,render:t=>t(l)}).$mount("#app")},5775:function(t,e,a){"use strict";var r=a("f706"),n=a.n(r);n.a},"7ad4":function(t,e,a){"use strict";var r=a("0c3e"),n=a.n(r);e["default"]=n.a},"7c5e":function(t,e,a){},"850a":function(t,e,a){"use strict";var r=a("7c5e"),n=a.n(r);n.a},bb51:function(t,e,a){"use strict";var r=a("470c"),n=a("7ad4"),o=(a("850a"),a("2877")),s=Object(o["a"])(n["default"],r["a"],r["b"],!1,null,"54efad41",null);e["default"]=s.exports},c32a:function(t,e,a){"use strict";var r=a("c7b8"),n=a.n(r);n.a},c7b8:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.b5357057.png"},e660:function(t,e,a){t.exports=a.p+"img/wechat.ff453262.jpg"},f195:function(t,e,a){},f706:function(t,e,a){}});
//# sourceMappingURL=app.9cc902b4.js.map